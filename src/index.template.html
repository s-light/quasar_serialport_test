<!DOCTYPE html>
<html>
<head>
    <title><%= htmlWebpackPlugin.options.productName %></title>

    <meta charset="utf-8">
    <meta name="description" content="<%= htmlWebpackPlugin.options.productDescription %>">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width<% if (htmlWebpackPlugin.options.ctx.mode.cordova) { %>, viewport-fit=cover<% } %>">

    <link rel="icon" type="image/png" href="statics/app-logo-128x128.png">
    <link rel="icon" type="image/png" sizes="16x16" href="statics/icons/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="statics/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="statics/icons/favicon-96x96.png">
    <link rel="icon" type="image/ico" href="statics/icons/favicon.ico">
</head>
<body>
    <script>
        console.info('Patch with SerialPort!');
        let SerialPort = undefined;
        try {
            // SerialPort = require('serialport');
            import('serialport')
                .then(module => {
                    SerialPort = module;
                    console.info('Patch with SerialPort done.', SerialPort);
                })
                .catch(err => {
                    console.info('importing \'serialport\' failed.\n', err);
                });
        } catch (e) {
            console.error('Patch with SerialPort failed:\n', e);
        }
        try {
            SerialPort.list().then(
               ports => {
                   for (port of ports) {
                       if (port.vendorId) {
                           console.log(port)
                       }
                   }
               },
               err => console.error('sp.list:\n', err)
           )
        } catch (e) {
            console.error('SerialPort.list()\n', e);
        }
    </script>
    <!-- DO NOT touch the following DIV -->
    <div id="q-app"></div>
</body>
</html>
